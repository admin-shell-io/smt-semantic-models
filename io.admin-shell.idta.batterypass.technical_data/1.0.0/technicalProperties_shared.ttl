######################################################################
# namespace: io.admin-shell.idta.batterypass
# Copyright (c) 2025 Bosch Connected Industry
# Copyright (c) 2025 Industrial Digital Twin Association
# This work  is made available under the terms of the
# Creative Commons Attribution 4.0 International (CC BY 4.0) license,
# which is available at
# https://creativecommons.org/licenses/by/4.0/.
# SPDX-License-Identifier: CC-BY-4.0
#
# namespace: io.BatteryPass
# Copyright (c) 2025 Circulor GmbH on behalf of the Battery Pass Consortium
#
# The referenced work is made available under the terms of the
# Creative Commons Attribution 4.0 International (CC BY 4.0) license,
# which is available at
# https://creativecommons.org/licenses/by/4.0/.
# SPDX-License-Identifier: CC-BY-4.0
#######################################################################


@prefix samm: <urn:samm:org.eclipse.esmf.samm:meta-model:2.1.0#> .
@prefix samm-c: <urn:samm:org.eclipse.esmf.samm:characteristic:2.1.0#> .
@prefix samm-e: <urn:samm:org.eclipse.esmf.samm:entity:2.1.0#> .
@prefix unit: <urn:samm:org.eclipse.esmf.samm:unit:2.1.0#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <urn:samm:io.admin-shell.idta.batterypass.technical_data:1.0.0#> .
@prefix tech: <urn:samm:io.admin-shell.idta.generic.technical_data:2.0.0#> .
@prefix shared: <urn:samm:io.admin-shell.idta.shared:3.1.0#> .
@prefix nameplate: <urn:samm:io.admin-shell.idta.digital_nameplate:3.0.0#> .
@prefix bp: <urn:samm:io.BatteryPass.Performance:1.2.1#> .
@prefix bpg: <urn:samm:io.BatteryPass.GeneralProductInformation:1.2.0#> .


:TechnicalAttributesEntity a samm:Entity ;
  samm:properties (  
    [ samm:property :capacityEnergyVoltage; samm:payloadName "CapacityEnergyVoltage" ] 
    [ samm:property :roundTripEnergyEfficiency; samm:payloadName "RoundTripEnergyEfficiency" ] 
	[ samm:property :resistance; samm:payloadName "Resistance" ] 
    [ samm:property :powerCapability; samm:payloadName "PowerCapability" ] 
	[ samm:property :temperature; samm:payloadName "Temperature" ] 
    [ samm:property :lifetime; samm:payloadName "Lifetime" ]
   ) .

:capacityEnergyVoltage a samm:Property ;
  samm:preferredName "capacity, energy and voltage"@en ;
  samm:description "Information on battery capacity, energy and voltage."@en ;
  samm:see <https://admin-shell.io/ZVEI/TechnicalData/FurtherInformation/1/1> ;
  samm:characteristic :CapacityEnergyVoltageCharacteristic .

:CapacityEnergyVoltageCharacteristic a samm-c:SingleEntity ;
   samm:dataType :CapacityEnergyVoltageEntity .

:CapacityEnergyVoltageEntity a samm:Entity ;
  samm:properties ( 
     [ samm:property :nominalVoltage; samm:payloadName "NominalVoltage" ] 
     [ samm:property :maximumVoltage; samm:payloadName "MaxVoltage" ] 
     [ samm:property :minimumVoltage; samm:payloadName "MinVoltage" ]
	 [ samm:property bp:ratedCapacity; samm:payloadName "RatedCapacity" ] 
	 [ samm:property :capacityFade; samm:optional true; samm:payloadName "CapacityFade" ]
	 [ samm:property bp:ratedEnergy; samm:optional true; samm:payloadName "CertifiedUsableBatteryEnergy" ] 
	 ) .

:capacityFade a samm:Property ;
   samm:preferredName "capacity fade"@en ;
   samm:description "The capacity fade is the Decrease over time and upon usage in the amount of charge that a battery can deliver at the rated voltage, with respect to the original rated capacity (see BattReg Annex IV (2)) as declared by the manufacturer.\n\nDIN DKE Spec 99100 chapter reference: 6.7.2.4"@en ;
   samm:characteristic :CapacityFadeValue .

:CapacityFadeValue a samm-c:Measurement ;
   samm:dataType xsd:float ;
   samm-c:unit unit:percent .

:roundTripEnergyEfficiency a samm:Property ;
   samm:characteristic :RoundTripEnergyEfficiencyCharacteristic .
   
:RoundTripEnergyEfficiencyCharacteristic a samm-c:SingleEntity ;
   samm:dataType :RoundTripEnergyEfficiencyEntity .

:RoundTripEnergyEfficiencyEntity a samm:Entity ;
  samm:properties ( 
  [ samm:property :initialRoundTripEnergyEfficiency; samm:payloadName "InitialRoundTripEnergyEfficiency" ] 
  [ samm:property bp:roundTripEfficiencyAt50PercentCycleLife; samm:payloadName "RoundTripEnergyEfficiencyAtFiftyofCycleLife" ]
  [ samm:property :energyRoundTripEfficiencyFade; samm:optional true; samm:payloadName "EnergyRoundTripEfficiencyFade" ]   
  [ samm:property :initialSelfDischargingRate; samm:optional true; samm:payloadName "InitialSelfDischargingRate" ] 
  ) .

:energyRoundTripEfficiencyFade a samm:Property ;
   samm:preferredName "energy round trip efficiency fade"@en ;
   samm:description "Energy round trip efficiency fade is the decrease of round trip energy efficiency as percentage.\n\nDIN DKE Spec 99100 chapter reference: 6.7.4.5"@en ;
   samm:characteristic :energyRoundTripEfficiencyFadeValue .

:energyRoundTripEfficiencyFadeValue a samm-c:Measurement ;
   samm:dataType xsd:float ;
   samm-c:unit unit:percent .   
 
:resistance a samm:Property ;
   samm:see <https://admin-shell.io/ZVEI/TechnicalData/FurtherInformation/1/1> ;
   samm:characteristic :ResistanceCharacteristic .
   
:ResistanceCharacteristic a samm-c:SingleEntity ;
   samm:dataType :ResistanceEntity .
   

:ResistanceEntity a samm:Entity ;
  samm:properties ( 
  [ samm:property :initialInternalResistanceOfBatteryCell; samm:payloadName "InitialInternalResistanceOfBatteryCell" ] 
  [ samm:property :initialInternalResistanceOfBatteryPack; samm:payloadName "InitialInternalResistanceOfBatteryPack" ] 
  [ samm:property :initialInternalResistanceOfBatteryModule; samm:optional true; samm:payloadName "InitialInternalResistanceOnBatteryModule" ] 
  [ samm:property :internalResistanceIncreaseOfBatteryCell; samm:optional true; samm:payloadName "InternalResistanceIncreaseOfBatteryCell" ] 
  [ samm:property :internalResistanceIncreaseOfBatteryPack; samm:payloadName "InternalResistanceIncreaseOfBatteryPack" ] 
  [ samm:property :internalResistanceIncreaseOfBatteryModule; samm:optional true; samm:payloadName "InternalResistanceIncreaseOfBatteryModule" ] 
  ) .
  
  
:powerCapability a samm:Property ;
   samm:see <https://admin-shell.io/ZVEI/TechnicalData/FurtherInformation/1/1> ;
   samm:characteristic :PowerCapabilityCharacteristic .
   
:PowerCapabilityCharacteristic a samm-c:SingleEntity ;
   samm:dataType :PowerCapabilityEntity .
   

:PowerCapabilityEntity a samm:Entity ;
  samm:properties ( 
    [ samm:property :maximumPermittedBatteryPower; samm:payloadName "MaximumPermittedBatteryPower" ] 
    [ samm:property bp:powerFade; samm:payloadName "PowerFade" ] 
	[ samm:property bp:powerCapabilityRatio; samm:payloadName "RatioNominalBatteryPowerAndBatteryEnergy" ]
	[ samm:property bp:originalPowerCapability; samm:payloadName "OriginalPowerCapability" ] 
  ) .
  
  
:temperature a samm:Property ;
   samm:see <https://admin-shell.io/ZVEI/TechnicalData/FurtherInformation/1/1> ;
   samm:characteristic :TemperatureCharacteristic .
   
:TemperatureCharacteristic a samm-c:SingleEntity ;
   samm:dataType :TemperatureEntity .
   

:TemperatureEntity a samm:Entity ;
  samm:properties ( 
  [ samm:property :temperatureRangeIdleStateLowerBoundary; samm:payloadName "TemperatureRangeIdleState_LowerBoundary" ]  
  [ samm:property :temperatureRangeIdleStateUpperBoundary; samm:payloadName "TemperatureRangeIdleState_UpperBoundary" ] 
  ) .
  
:lifetime a samm:Property ;
   samm:see <https://admin-shell.io/ZVEI/TechnicalData/FurtherInformation/1/1> ;
   samm:characteristic :LifetimeCharacteristic .
   
:LifetimeCharacteristic a samm-c:SingleEntity ;
   samm:dataType :LifetimeEntity .
   

:LifetimeEntity a samm:Entity ;
  samm:properties ( 
      [ samm:property bp:expectedLifetime; samm:payloadName "ExpectedLifetimeInCalendarYears " ] 
	  [ samm:property :expectedNumberOfCycles; samm:payloadName "ExpectedNumberOfCycles" ] 
      [ samm:property bp:capacityThresholdForExhaustion; samm:payloadName "CapacityThresholdExhaustion" ] 
      [ samm:property bp:cRateLifeCycleTest; samm:payloadName "CrateOfRelevantCycleLifeTest" ] 
  ) .
  
:expectedNumberOfCycles a samm:Property ;
   samm:preferredName "expected number of cycles"@en ;
   samm:description "Expected battery lifetime expressed in cycles.\nThe exception for non-cycle applications in Article 10 appears sensible, but is not included in the Annex XIII provision.\nThe data attribute is defined by measurement conditions of the cycle-life test such as the C-Rate (see below) and the depth of discharge in the cycle-life test\n\nDIN DKE Spec 99100 chapter reference: 6.7.6.3"@en ;
   samm:characteristic :ExpectedNumberOfCycles ;
   samm:exampleValue "1000"^^unsignedInt .
   
:ExpectedNumberOfCycles a samm-c:Quantifiable ;
   samm:dataType xsd:unsignedInt ;
   samm-c:unit unit:cycle .